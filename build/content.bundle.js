!function(n){var e={};function t(c){if(e[c])return e[c].exports;var l=e[c]={i:c,l:!1,exports:{}};return n[c].call(l.exports,l,l.exports,t),l.l=!0,l.exports}t.m=n,t.c=e,t.d=function(n,e,c){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:c})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var c=Object.create(null);if(t.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var l in n)t.d(c,l,function(e){return n[e]}.bind(null,l));return c},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=43)}({43:function(module,exports){eval("chrome.runtime.onMessage.addListener((request, sender, sendResponse) => {\n  console.log(sender.tab ?\n      \"request from a content script:\" + sender.tab.url :\n      \"request from the extension\");\n  if (request.message === 'getPage') {\n    let title = '';\n    let content = [];\n    if (document.getSelection().toString() !== '') {\n      // title = $('h1:first').text();\n      title = document.title;\n      content = fixContentArray(window.getSelection().toString().replace(/([.?!])\\s*(?=[A-Z])/g, \"$1|\").split(\"|\").map(function (x) {\n        return $.trim(x);\n      }));\n    } else {\n      title = $('h1:first').text();\n      // title = document.title;\n      content = $('p:not([class])').map(function () {\n        return $.trim($(this).text());\n      }).get();\n    }\n    // Save it using the Chrome extension storage API.\n    chrome.storage.local.set({'title': title, 'content': content}, function () {\n      console.log('Page contents stored for processing');\n    });\n    sendResponse({message: 'Page stored'});\n  }\n  return true; // Indicate that you will eventually call sendResponse\n});\n\nfunction fixContentArray(contentArray) {\n  const fixedArray = [];\n  contentArray.forEach(element => {\n    const sentences = element.replace(/([.?!])\\s*(?=[A-Z])/g, \"$1|\").split(\"|\");\n    sentences.forEach(sentence => fixedArray.push(sentence));\n  });\n  return fixedArray;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvY29udGVudC5qcz80ZmFjIl0sInNvdXJjZXNDb250ZW50IjpbImNocm9tZS5ydW50aW1lLm9uTWVzc2FnZS5hZGRMaXN0ZW5lcigocmVxdWVzdCwgc2VuZGVyLCBzZW5kUmVzcG9uc2UpID0+IHtcbiAgY29uc29sZS5sb2coc2VuZGVyLnRhYiA/XG4gICAgICBcInJlcXVlc3QgZnJvbSBhIGNvbnRlbnQgc2NyaXB0OlwiICsgc2VuZGVyLnRhYi51cmwgOlxuICAgICAgXCJyZXF1ZXN0IGZyb20gdGhlIGV4dGVuc2lvblwiKTtcbiAgaWYgKHJlcXVlc3QubWVzc2FnZSA9PT0gJ2dldFBhZ2UnKSB7XG4gICAgbGV0IHRpdGxlID0gJyc7XG4gICAgbGV0IGNvbnRlbnQgPSBbXTtcbiAgICBpZiAoZG9jdW1lbnQuZ2V0U2VsZWN0aW9uKCkudG9TdHJpbmcoKSAhPT0gJycpIHtcbiAgICAgIC8vIHRpdGxlID0gJCgnaDE6Zmlyc3QnKS50ZXh0KCk7XG4gICAgICB0aXRsZSA9IGRvY3VtZW50LnRpdGxlO1xuICAgICAgY29udGVudCA9IGZpeENvbnRlbnRBcnJheSh3aW5kb3cuZ2V0U2VsZWN0aW9uKCkudG9TdHJpbmcoKS5yZXBsYWNlKC8oWy4/IV0pXFxzKig/PVtBLVpdKS9nLCBcIiQxfFwiKS5zcGxpdChcInxcIikubWFwKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHJldHVybiAkLnRyaW0oeCk7XG4gICAgICB9KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRpdGxlID0gJCgnaDE6Zmlyc3QnKS50ZXh0KCk7XG4gICAgICAvLyB0aXRsZSA9IGRvY3VtZW50LnRpdGxlO1xuICAgICAgY29udGVudCA9ICQoJ3A6bm90KFtjbGFzc10pJykubWFwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICQudHJpbSgkKHRoaXMpLnRleHQoKSk7XG4gICAgICB9KS5nZXQoKTtcbiAgICB9XG4gICAgLy8gU2F2ZSBpdCB1c2luZyB0aGUgQ2hyb21lIGV4dGVuc2lvbiBzdG9yYWdlIEFQSS5cbiAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5zZXQoeyd0aXRsZSc6IHRpdGxlLCAnY29udGVudCc6IGNvbnRlbnR9LCBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zb2xlLmxvZygnUGFnZSBjb250ZW50cyBzdG9yZWQgZm9yIHByb2Nlc3NpbmcnKTtcbiAgICB9KTtcbiAgICBzZW5kUmVzcG9uc2Uoe21lc3NhZ2U6ICdQYWdlIHN0b3JlZCd9KTtcbiAgfVxuICByZXR1cm4gdHJ1ZTsgLy8gSW5kaWNhdGUgdGhhdCB5b3Ugd2lsbCBldmVudHVhbGx5IGNhbGwgc2VuZFJlc3BvbnNlXG59KTtcblxuZnVuY3Rpb24gZml4Q29udGVudEFycmF5KGNvbnRlbnRBcnJheSkge1xuICBjb25zdCBmaXhlZEFycmF5ID0gW107XG4gIGNvbnRlbnRBcnJheS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgIGNvbnN0IHNlbnRlbmNlcyA9IGVsZW1lbnQucmVwbGFjZSgvKFsuPyFdKVxccyooPz1bQS1aXSkvZywgXCIkMXxcIikuc3BsaXQoXCJ8XCIpO1xuICAgIHNlbnRlbmNlcy5mb3JFYWNoKHNlbnRlbmNlID0+IGZpeGVkQXJyYXkucHVzaChzZW50ZW5jZSkpO1xuICB9KTtcbiAgcmV0dXJuIGZpeGVkQXJyYXk7XG59Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///43\n")}});