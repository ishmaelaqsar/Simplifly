!function(n){var e={};function t(c){if(e[c])return e[c].exports;var l=e[c]={i:c,l:!1,exports:{}};return n[c].call(l.exports,l,l.exports,t),l.l=!0,l.exports}t.m=n,t.c=e,t.d=function(n,e,c){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:c})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var c=Object.create(null);if(t.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var l in n)t.d(c,l,function(e){return n[e]}.bind(null,l));return c},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=43)}({43:function(module,exports){eval("chrome.runtime.onMessage.addListener((request, sender, sendResponse) => {\n  console.log(sender.tab ?\n      \"request from a content script:\" + sender.tab.url :\n      \"request from the extension\");\n  if (request.message === 'getPage') {\n    let title = '';\n    let content = [];\n    if (document.getSelection().toString() !== '') {\n      // title = $('h1:first').text();\n      title = document.title;\n      content = window.getSelection().toString().replace(/([.?!])\\s*(?=[A-Z])/g, \"$1|\").split(\"|\");\n    } else {\n      title = $('h1:first').text();\n      // title = document.title;\n      content = $('p:not([class])').map(function () {\n        return $.trim($(this).text());\n      }).get();\n    }\n    // Save it using the Chrome extension storage API.\n    chrome.storage.sync.set({'title': title, 'content': content}, function () {\n      console.log('Page contents stored for processing');\n    });\n    sendResponse({message: 'Page stored'});\n  }\n  return true; // Indicate that you will eventually call sendResponse\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvY29udGVudC5qcz80ZmFjIl0sInNvdXJjZXNDb250ZW50IjpbImNocm9tZS5ydW50aW1lLm9uTWVzc2FnZS5hZGRMaXN0ZW5lcigocmVxdWVzdCwgc2VuZGVyLCBzZW5kUmVzcG9uc2UpID0+IHtcbiAgY29uc29sZS5sb2coc2VuZGVyLnRhYiA/XG4gICAgICBcInJlcXVlc3QgZnJvbSBhIGNvbnRlbnQgc2NyaXB0OlwiICsgc2VuZGVyLnRhYi51cmwgOlxuICAgICAgXCJyZXF1ZXN0IGZyb20gdGhlIGV4dGVuc2lvblwiKTtcbiAgaWYgKHJlcXVlc3QubWVzc2FnZSA9PT0gJ2dldFBhZ2UnKSB7XG4gICAgbGV0IHRpdGxlID0gJyc7XG4gICAgbGV0IGNvbnRlbnQgPSBbXTtcbiAgICBpZiAoZG9jdW1lbnQuZ2V0U2VsZWN0aW9uKCkudG9TdHJpbmcoKSAhPT0gJycpIHtcbiAgICAgIC8vIHRpdGxlID0gJCgnaDE6Zmlyc3QnKS50ZXh0KCk7XG4gICAgICB0aXRsZSA9IGRvY3VtZW50LnRpdGxlO1xuICAgICAgY29udGVudCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKS50b1N0cmluZygpLnJlcGxhY2UoLyhbLj8hXSlcXHMqKD89W0EtWl0pL2csIFwiJDF8XCIpLnNwbGl0KFwifFwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGl0bGUgPSAkKCdoMTpmaXJzdCcpLnRleHQoKTtcbiAgICAgIC8vIHRpdGxlID0gZG9jdW1lbnQudGl0bGU7XG4gICAgICBjb250ZW50ID0gJCgncDpub3QoW2NsYXNzXSknKS5tYXAoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJC50cmltKCQodGhpcykudGV4dCgpKTtcbiAgICAgIH0pLmdldCgpO1xuICAgIH1cbiAgICAvLyBTYXZlIGl0IHVzaW5nIHRoZSBDaHJvbWUgZXh0ZW5zaW9uIHN0b3JhZ2UgQVBJLlxuICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuc2V0KHsndGl0bGUnOiB0aXRsZSwgJ2NvbnRlbnQnOiBjb250ZW50fSwgZnVuY3Rpb24gKCkge1xuICAgICAgY29uc29sZS5sb2coJ1BhZ2UgY29udGVudHMgc3RvcmVkIGZvciBwcm9jZXNzaW5nJyk7XG4gICAgfSk7XG4gICAgc2VuZFJlc3BvbnNlKHttZXNzYWdlOiAnUGFnZSBzdG9yZWQnfSk7XG4gIH1cbiAgcmV0dXJuIHRydWU7IC8vIEluZGljYXRlIHRoYXQgeW91IHdpbGwgZXZlbnR1YWxseSBjYWxsIHNlbmRSZXNwb25zZVxufSk7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///43\n")}});